# Dockerfile.frontend
FROM node:22-alpine

WORKDIR /app

# package.json und package-lock.json für deterministische Builds
COPY package*.json ./

# Node-Abhängigkeiten installieren
RUN npm ci

# Frontend-Dateien und Lint-Konfigurationen kopieren
COPY static ./static
COPY templates ./templates
COPY .htmlhintrc ./
COPY .stylelintrc.json ./
COPY eslint.config.js ./

# Standardkommando: einmal Lint ausführen (Container beendet sich danach)
CMD ["npm", "run", "lint"]
